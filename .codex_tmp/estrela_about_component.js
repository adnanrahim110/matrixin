Experience$1=class extends Component{constructor(ee){super(ee),this.titleEl=this.el.querySelector(".about-title"),this.title=new SplitText(this.titleEl,{type:"lines",linesClass:"line"}),this.inner=this.el.querySelector(".about-inner"),this.left=this.el.querySelector(".about-left"),this.right=this.el.querySelector(".about-right"),this.content=this.el.querySelector(".about-content"),this.imageWrappers=this.el.querySelectorAll(".media-wrapper"),this.images=this.el.querySelectorAll(".media")}init(){super.init(),Site.isMobile||this.images.forEach(ee=>{g.load(ee)}),this.initContext()}initContext(){this.destroyContext(),this.aboutContext=gsapWithCSS.context(()=>{if(Site.isMobile){const ee=this.el.querySelector(".about-images");gsapWithCSS.timeline({scrollTrigger:{trigger:this.titleEl,start:"top+=30% bottom"}}).moveBlur(this.title.lines),gsapWithCSS.timeline({scrollTrigger:{trigger:ee,start:"top bottom",end:"top top",scrub:!0}}).fromTo(this.imageWrappers[0],{scale:1.4},{scale:1,duration:1},0).fromTo(this.imageWrappers[1],{scale:1.4,clipPath:"inset(100% 0% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",scale:1,duration:1},1).fromTo(this.imageWrappers[2],{scale:1.4,clipPath:"inset(100% 0% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",scale:1,duration:1},2);return}gsapWithCSS.set(this.el,{paddingBottom:()=>Site.height*2.5}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.inner,start:"center center",end:()=>`+=${Site.height*9}`,pin:!0,pinSpacing:!1,scrub:!0}}).fromTo(this.content,{y:()=>Site.height*1.5},{y:()=>Site.height*-3,duration:12},0).fromTo(this.titleEl,{transformOrigin:"left",scale:.95,yPercent:()=>`${Site.height*.15}`},{scale:1,yPercent:0,ease:"power1.out",duration:1.5},0).fromTo(this.title.lines,{yPercent:110,autoAlpha:0,filter:"blur(2rem)"},{yPercent:0,autoAlpha:1,filter:"blur(0rem)",duration:2,ease:"power3.out",stagger:.2},.1).fromTo(this.imageWrappers,{scale:1.2},{scale:1,duration:2.6},.8).fromTo(this.imageWrappers[1],{clipPath:"inset(100% 0% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",duration:.6},1.4).fromTo(this.imageWrappers[2],{clipPath:"inset(100% 0% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)",duration:.6},1.9).to(this.titleEl,{yPercent:()=>`${Site.height*-1}`,ease:"power1.in",duration:6},1.8)})}destroyContext(){this.aboutContext?.revert()}resize(){super.resize(),this.initContext()}destroy(){super.destroy(),this.destroyContext()}};class RippleImage extends Component{constructor(ee){super(ee),this.image=this.el.querySelector(".image"),this.style={scale:1,x:0,y:0,opacity:0},this.tl=null}init(){super.init(),this.getBounds()}getBounds(){this.bounds=this.el.getBoundingClientRect()}resize(){super.resize(),this.getBounds()}}class Ripple extends Component{constructor(ee){super(ee),this.images=[],this.el.querySelectorAll(".media-wrapper").forEach(re=>{this.images.push(this.initComponent(RippleImage,{el:re}))}),this.mouse={last:{x:0,y:0},cache:{x:Site.width*.5,y:Site.height*.5}},this.hovered=!1,this.target=ee.target,this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=60}init(){super.init(),this.addListener({el:this.target,event:"mouseover",handler:()=>{this.hovered||(this.hovered=!0),this.getBounds()}}),this.addListener({el:this.target,event:"mouseleave",handler:()=>{this.hovered=!1,this.mouse.cache.x=Site.mouse.x,this.mouse.cache.y=Site.mouse.y}}),this.getBounds()}getBounds(){this.bounds=this.el.getBoundingClientRect()}getMouseDistance(){return distance(Site.mouse.x,Site.mouse.y,this.mouse.last.x,this.mouse.last.y)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}showNextImage(){if(!this.hovered)return;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const ee=Site.mouse,ie=this.images[this.imgPosition];gsapWithCSS.killTweensOf(ie.el);let re=ee.x-this.mouse.cache.x,se=ee.y-this.mouse.cache.y,ne=Math.sqrt(re*re+se*se);ne!==0&&(re/=ne,se/=ne),re*=ne/100,se*=ne/100,ie.timeline=gsapWithCSS.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(ie.el,{opacity:1,scale:0,zIndex:this.zIndexVal,x:this.mouse.cache.x-ie.bounds.width/2-this.bounds.left,y:this.mouse.cache.y-ie.bounds.height/2-this.bounds.top},{duration:.4,ease:"power1",scale:1,x:ee.x-ie.bounds.width/2-this.bounds.left,y:ee.y-ie.bounds.height/2-this.bounds.top},0).fromTo(ie.image,{scale:2},{duration:.4,ease:"power1",scale:1},0).to(ie.el,{duration:.4,opacity:0},.4).to(ie.el,{duration:1.5,ease:"power4",x:"+="+re*110,y:"+="+se*110},.05)}loop(){if(super.loop(),!this.hovered)return;const ee=Site.mouse;this.getMouseDistance()>this.threshold&&(this.showNextImage(),this.mouse.last.x=ee.x,this.mouse.last.y=ee.y),this.mouse.cache.x=lerp(this.mouse.cache.x||ee.x,ee.x,.1),this.mouse.cache.y=lerp(this.mouse.cache.y||ee.y,ee.y,.1),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1)}}class Experience extends Component{constructor(ee){super(ee),this.btnBlockWrapper=this.el.querySelector(".exp-btn-block-wrapper"),this.btnBlockEl=this.el.querySelector(".btn-block"),this.btnBlockImg=this.el.querySelector(".btn-block .media"),this.content=this.el.querySelector(".exp-content"),this.titleEl=this.el.querySelector(".exp-title"),this.title=new SplitText(this.titleEl,{type:"lines, words",linesClass:"line",wordsClass:"word"}),this.rippleTarget=this.title.words[this.title.words.length-1],this.rippleTarget.classList.add("exp-title-hover"),this.rippleWrap=this.el.querySelector(".exp-images"),this.rippleText=this.el.querySelector(".exp-title-hover"),this.subtitle=this.el.querySelector(".exp-subtitle"),this.textWrapper=this.el.querySelector(".exp-text-wrapper")}init(){super.init(),Site.isMobile?gsapWithCSS.timeline({scrollTrigger:{trigger:this.titleEl,start:"top+=30% bottom"}}).moveBlur(this.title.words):(this.initComponent(ButtonBlock,{el:this.btnBlockEl,fixed:!0,center:!1}),this.ripple=this.initComponent(Ripple,{el:this.rippleWrap,target:this.rippleText})),this.addListener({el:this.btnBlockEl,event:"click",handler:()=>{Site.showreel.show()}}),this.initContext()}initContext(){Site.isMobile||(this.destroyContext(),this.expContext=gsapWithCSS.context(()=>{gsapWithCSS.set(this.el,{paddingBottom:()=>`${Site.height*3.3}`}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.btnBlockWrapper,start:()=>"top bottom",end:()=>`+=${Site.height*3.2}`,scrub:!0}}).fromTo(this.btnBlockEl,{y:()=>Site.height*.05},{y:0,ease:"power1.in",duration:.3},0).fromTo(this.btnBlockEl,{y:0},{y:()=>Site.height*1,duration:.7,ease:"power1.in"},.3).to(this.btnBlockEl,{width:()=>this.btnBlockEl.offsetWidth*.5,height:()=>this.btnBlockEl.offsetHeight*.5,duration:1},0),gsapWithCSS.timeline({scrollTrigger:{trigger:this.content,start:"center center",end:()=>`+=${Site.height*4}`,scrub:!0,pin:!0,pinSpacing:!1}}).to(this.content,{duration:10},0).fromTo(this.titleEl,{yPercent:()=>`${Site.height*.2}`,scale:.9},{scale:1,yPercent:0,ease:"power2.out",duration:4.8},0).fromTo(this.title.lines,{yPercent:110,autoAlpha:0,filter:"blur(2rem)"},{yPercent:0,autoAlpha:1,filter:"blur(0rem)",duration:4,ease:"power3.out",stagger:.4},.3).fromTo(this.rippleTarget,{background:"linear-gradient(45deg, #020202, #020202)"},{background:"linear-gradient(45deg, #F4803A, #FBCB6E)",duration:2.5,ease:"power3.out"},1.5).fromTo(this.subtitle,{y:()=>Site.height*.8},{y:()=>Site.height*-1,duration:10},2).fromTo(this.textWrapper,{y:()=>Site.height*1.2},{y:()=>Site.height*-1,duration:7},2.5).fromTo(this.titleEl,{yPercent:0},{yPercent:()=>`${Site.height*-.3}`,ease:"power1.in",duration:5},4.85)}))}destroyContext(){this.expContext?.revert()}resize(){super.resize(),this.initContext()}destroy(){super.destroy(),this.destroyContext()}}class Title extends Component{constructor(ee){super(ee),this.args=ee.args??{},this.split=new SplitText(this.el,{type:"lines",linesClass:"line"});const ie={};ee.scroll?ie.scrollTrigger={trigger:this.el,start:"top+=20% bottom"}:ie.paused=!0,this.c(()=>{this.tl=gsapWithCSS.timeline(ie).moveBlur(this.split.lines,this.args)})}}class HomeServices extends Component{constructor(ee){super(ee),this.wrapper=this.el.querySelector(".services-inner"),this.items=this.el.querySelectorAll(".service"),this.offset={base:remToPx(10.7),active:remToPx(24.7)}}init(){super.init(),this.initComponent(Title,{el:this.el.querySelector(".services-title"),scroll:!0}),!Site.isMobile&&(this.setInitialPositions(),this.addListener({el:this.wrapper,event:"mouseleave",handler:()=>{this.setActiveItem(0)}}),this.items.forEach((ee,ie)=>{ie===0&&ee.classList.add("active");const re=ee.querySelector(".service-text");re&&splitLines(re),this.addListener({el:ee,event:"mouseenter",handler:()=>{if(ie===this.items.length-1){this.setActiveItem(0);return}this.setActiveItem(ie)}})}))}setActiveItem(ee){this.c(()=>{this.items.forEach((ie,re)=>{ie.classList.remove("active"),ee===re&&ie.classList.add("active"),re!==0&&(ee===0?re===1?gsapWithCSS.to(ie,{y:this.offset.active,ease:"power3.out",duration:.8,overwrite:"auto"}):gsapWithCSS.to(ie,{y:(re-1)*this.offset.base+this.offset.active,ease:"power3.out",duration:.8,overwrite:"auto"}):ee===re||ee>re?gsapWithCSS.to(ie,{y:re*this.offset.base,ease:"power3.out",duration:.8,overwrite:"auto"}):gsapWithCSS.to(ie,{y:(re-1)*this.offset.base+this.offset.active,ease:"power3.out",duration:.8,overwrite:"auto"}))})})}setInitialPositions(){Site.isMobile||this.c(()=>{this.items.forEach((ee,ie)=>{ie!==0&&(ie===1?gsapWithCSS.set(ee,{y:this.offset.active,overwrite:"auto"}):gsapWithCSS.set(ee,{y:(ie-1)*this.offset.base+this.offset.active,overwrite:"auto"}))})})}resize(){super.resize(),this.setInitialPositions()}}const defaultOptions={active:!0,breakpoints:{},snapped:"is-snapped",inView:"is-in-view",draggable:"is-draggable",dragging:"is-dragging",loop:"is-loop"};function normalizeClassNames(te){return(Array.isArray(te)?te:[te]).filter(Boolean)}function removeClass(te,ee){!te||!ee.length||te.classList.remove(...ee)}function addClass(te,ee){!te||!ee.length||te.classList.add(...ee)}function ClassNames(te={}){let ee,ie,re,se,ne=[],oe=[];const ae=["select"],le=["pointerDown","pointerUp"],he=["slidesInView"],ce={snapped:[],inView:[],draggable:[],dragging:[],loop:[]};function me(ge,_e){ie=ge;const{mergeOptions:ve,optionsAtMedia:xe}=_e,we=ve(defaultOptions,ClassNames.globalOptions),Te=ve(we,te);ee=xe(Te),re=ie.rootNode(),se=ie.slideNodes();const{watchDrag:Ce,loop:ke}=ie.internalEngine().options,Fe=!!Ce;ee.loop&&ke&&(ce.loop=normalizeClassNames(ee.loop),addClass(re,ce.loop)),ee.draggable&&Fe&&(ce.draggable=normalizeClassNames(ee.draggable),addClass(re,ce.draggable)),ee.dragging&&(ce.dragging=normalizeClassNames(ee.dragging),le.forEach(Le=>ie.on(Le,pe))),ee.snapped&&(ce.snapped=normalizeClassNames(ee.snapped),ae.forEach(Le=>ie.on(Le,fe)),fe()),ee.inView&&(ce.inView=normalizeClassNames(ee.inView),he.forEach(Le=>ie.on(Le,be)),be())}function ue(){le.forEach(ge=>ie.off(ge,pe)),ae.forEach(ge=>ie.off(ge,fe)),he.forEach(ge=>ie.off(ge,be)),removeClass(re,ce.loop),removeClass(re,ce.draggable),removeClass(re,ce.dragging),de([],ne,ce.snapped),de([],oe,ce.inView),Object.keys(ce).forEach(ge=>{const _e=ge;ce[_e]=[]})}function pe(ge,_e){(_e==="pointerDown"?addClass:removeClass)(re,ce.dragging)}function de(ge=[],_e=[],ve){const xe=_e.map(Te=>se[Te]),we=ge.map(Te=>se[Te]);return xe.forEach(Te=>removeClass(Te,ve)),we.forEach(Te=>addClass(Te,ve)),ge}function fe(){const{slideRegistry:ge}=ie.internalEngine(),_e=ge[ie.selectedScrollSnap()];ne=de(_e,ne,ce.snapped)}function be(){const ge=ie.slidesInView();oe=de(ge,oe,ce.inView)}return{name:"classNames",options:te,init:me,destroy:ue}}ClassNames.globalOptions=void 0;class Carousel extends Component{constructor(ee){super(ee),this.wrapper=this.el.querySelector(".carousel-inner"),this.prev=this.el.querySelector(".carousel-prev"),this.next=this.el.querySelector(".carousel-next"),this.slides=this.el.querySelectorAll(".carousel-item"),this.arrow=Site.isMobile?null:this.el.querySelector(".carousel-arrow")}init(){super.init(),this.c(()=>{this.slider=EmblaCarousel(this.el,{loop:!0,watchDrag:Site.isMobile,duration:35},[ClassNames()]),this.slides=this.slider.slideNodes(),this.slider.on("init",this.updateClasses.bind(this)),this.slider.on("select",this.updateClasses.bind(this)),this.arrow&&!Site.isMobile&&(this.getBounds(),this.yTo=gsapWithCSS.quickTo(this.arrow,"y",{duration:.5,ease:"power3.out"}),this.xTo=gsapWithCSS.quickTo(this.arrow,"x",{duration:.5,ease:"power3.out"}),this.addListener({el:this.el,event:"mousemove",handler:ee=>{this.hovered||(this.hovered=!0,this.el.classList.add("active")),this.getBounds(),this.xTo(ee.clientX-this.bounds.width*.5),this.yTo(ee.clientY-this.bounds.height*.5-this.bounds.top-remToPx(2))}}),this.addListener({el:this.el,event:"mouseleave",handler:()=>{this.hovered=!1,this.el.classList.remove("active")}}),this.addListener({el:this.prev,event:"mouseenter",handler:()=>{this.el.classList.add("prev")}}),this.addListener({el:this.next,event:"mouseenter",handler:()=>{this.el.classList.remove("prev")}})),Site.isMobile||(this.addListener({el:this.prev,event:"click",handler:()=>{this.slider.scrollPrev()}}),this.addListener({el:this.next,event:"click",handler:()=>{this.slider.scrollNext()}}))})}getBounds(){this.bounds=this.el.getBoundingClientRect()}updateClasses(){this.slides.forEach((ee,ie)=>{const re=this.slider.scrollSnapList().length,se=this.slider.selectedScrollSnap(),ne=(se-1+re)%re,oe=(se+1)%re;this.slides.forEach((ae,le)=>{ae.classList.toggle("current",le===se),ae.classList.toggle("prev",le===ne),ae.classList.toggle("next",le===oe)})})}resize(){super.resize(),this.slider?.off("init",this.updateClasses.bind(this)),this.slider?.off("select",this.updateClasses.bind(this))}}let Text$1=class extends Component{constructor(ee){super(ee),this.args=ee.args??{},this.lines=[];const ie=this.el.querySelectorAll("p");if(ie.length>0)ie.forEach((se,ne)=>{const oe=new SplitText(se,{type:"lines",linesClass:"line",mask:"lines"});se.classList.add("split"),this.lines.push(oe.lines)});else{const se=new SplitText(this.el,{type:"lines",linesClass:"line",mask:"lines"});this.lines.push(se.lines)}const re={paused:!0};ee.scroll&&(re.scrollTrigger={trigger:this.el,start:"top+=20% bottom"}),this.c(()=>{this.tl=gsapWithCSS.timeline(re).textIn(this.lines,this.args)})}};class Testimonials extends Component{constructor(ee){super(ee),this.overline=this.el.querySelector(".testimonials-overline"),this.title=this.el.querySelector(".testimonials-title"),this.items=this.el.querySelectorAll(".testimonial"),this.borders=[]}init(){super.init(),this.initComponent(Text$1,{el:this.overline,scroll:!0}),this.initComponent(Title,{el:this.title,scroll:!0}),this.carousel=this.initComponent(Carousel,{el:this.el.querySelector(".carousel")}),setTimeout(()=>{this.updateBorders()},500),Site.isMobile||(this.refreshBorders=everyNFrames(this.updateBorders.bind(this),50),this.items.forEach(ee=>{this.borders.push(this.initComponent(Border,{el:ee,radius:.4}))}),this.carousel.slider.on("select",()=>{this.hideBorders(),setTimeout(()=>{this.showBorders()},500)}),this.carousel.slider.on("scroll",()=>{this.refreshBorders()}))}updateBorders(){this.borders.forEach(ee=>ee.getBounds())}hideBorders(){this.borders.forEach(ee=>{ee.canvas.style.display="none"})}showBorders(){this.borders.forEach(ee=>{ee.canvas.style.display="block"})}resize(){super.resize(),Site.isMobile||this.updateBorders()}}class Faqs extends Component{constructor(ee){super(ee),this.items=[],this.borders=[],this.els=this.el.querySelectorAll(".faq"),this.els.forEach(ie=>{this.items.push({el:ie,inner:Site.isMobile?ie.querySelector(".faq-answer-wrapper"):ie.querySelector(".faq-inner"),toggle:ie.querySelector(".faq-toggle"),text:ie.querySelector(".faq-answer"),active:!1})})}init(){super.init(),this.c(()=>{this.items.forEach(ee=>{ee.lines=splitLines(ee.text),gsapWithCSS.set(ee.inner,{height:Site.isMobile?0:"7.5rem"}),gsapWithCSS.set(ee.lines,{yPercent:110}),gsapWithCSS.set(ee.text,{yPercent:10}),ee.inTl=gsapWithCSS.timeline({paused:!0,defaults:{overwrite:"auto"},onComplete:()=>{Site.lenis.resize(),Site.emitter.emit("faq:updated")},onUpdate:()=>{this.borders.forEach(ie=>{ie.bounds=ie.el.getBoundingClientRect(),ie.bounds.scroll=Site.lenis.scroll})}}),ee.inTl.to(ee.inner,{height:"auto",duration:.8,ease:"power3.out"},0),ee.inTl.to(ee.text,{yPercent:0,duration:1.4,ease:"power3.out"},.1),ee.inTl.to(ee.lines,{yPercent:0,duration:1.4,ease:"power3.out",stagger:.05},.1),ee.outTl=gsapWithCSS.timeline({paused:!0,defaults:{overwrite:"auto"},onComplete:()=>{Site.emitter.emit("faq:updated"),Site.lenis.resize()},onUpdate:()=>{this.borders.forEach(ie=>{ie.bounds=ie.el.getBoundingClientRect(),ie.bounds.scroll=Site.lenis.scroll})}}),ee.outTl.to(ee.inner,{height:Site.isMobile?0:"7.5rem",duration:.8,ease:"power3.out"},0),ee.outTl.to(ee.text,{yPercent:10,duration:1,ease:"power3.out"}),ee.outTl.to(ee.lines,{yPercent:110,duration:1,ease:"power3.out"},0),this.addListener({el:ee.toggle,event:"click",handler:()=>{ee.active=!ee.active,ee.active?(ee.el.classList.add("active"),ee.outTl?.pause(),ee.outTl?.invalidate(),ee.inTl?.invalidate(),requestAnimationFrame(()=>{ee.inTl?.restart()})):(ee.el.classList.remove("active"),ee.inTl?.pause(),ee.inTl?.invalidate(),ee.outTl?.invalidate(),requestAnimationFrame(()=>{ee.outTl?.restart()}))}})}),requestAnimationFrame(()=>{this.initBorders()})})}initBorders(){if(Site.isMobile)return;this.el.querySelectorAll(".faq-border").forEach(ie=>{const re=this.initComponent(Border,{el:ie,inner:!0});this.borders.push(re)})}resize(){super.resize()}}class Parallax extends Component{constructor(ee){super(ee),this.amount=ee.amount??40,this.inner=this.el.querySelector(".media-inner")}init(){super.init(),this.c(()=>{gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top bottom",end:"bottom top",scrub:!0}}).fromTo(this.inner,{height:`${100+this.amount}%`,yPercent:-this.amount},{yPercent:0,ease:"none"})})}resize(){super.resize()}}class Home extends Page{constructor(ee){super(ee),this.theme="dark"}init(){super.init(),this.initHero()}loaded(){super.loaded(),this.initComponent(Experience,{el:this.el.querySelector(".exp")}),this.initComponent(Work$1,{el:this.el.querySelector(".work")}),this.initComponent(Experience$1,{el:this.el.querySelector(".about")}),this.initComponent(HomeServices,{el:this.el.querySelector(".services")}),this.initComponent(Parallax,{el:this.el.querySelector(".testimonials .media-wrapper"),amount:10}),this.initComponent(Testimonials,{el:this.el.querySelector(".testimonials")}),this.initComponent(Faqs,{el:this.el.querySelector(".faqs")}),this.initComponent(PreFooter,{el:this.el.querySelector(".pre-footer")}),this.initComponent(Footer,{el:this.el.querySelector(".footer")})}loadComplete(){super.loadComplete()}async initHero(){const ee=this.el.querySelector(".hero"),ie=ee.querySelector(".hero-bg"),re=ee.querySelector(".media"),se=ee.querySelector(".hero-title-left"),ne=ee.querySelector(".hero-title-right"),oe=se.querySelector(".line"),ae=ne.querySelector(".line"),le=ee.querySelector(".hero-scroll"),he=Site.body.querySelector(".loader .loader-icon"),ce=ee.querySelector(".icon"),me=Site.isFirstLoad?[he,ce]:ce,ue=this.initComponent(Icon,{el:ce});await ue.ready,this.c(()=>{const pe=gsapWithCSS.timeline({scrollTrigger:{trigger:ee,pin:!0,start:"top top",end:()=>`+=${Site.height}`,pinSpacing:!1,pinType:Site.isMobile?"fixed":"transform",scrub:!0,invalidateOnRefresh:!0,onUpdate:de=>{if(!ue.lottie)return;const fe=de.progress*.5*(ue.totalFrames-1);ue.lottie.goToAndStop(fe,!0)}}});Site.isMobile||(pe.to(se,{x:()=>Site.width*.45-se.offsetWidth,duration:.7},0),pe.to(ne,{x:()=>-(Site.width*.45-ne.offsetWidth),duration:.7},0),pe.fromTo(le,{autoAlpha:1},{autoAlpha:0,duration:1,overwrite:"auto"},0))}),this.introTl.add(()=>{re.play()},.1),this.introTl.fromTo(me,{scale:1.8},{scale:1,duration:2,ease:"expo.out"},0),this.introTl.fromTo(ie,{filter:"blur(2rem)",autoAlpha:0},{filter:"blur(0rem)",autoAlpha:1,duration:2,ease:"power3.out"},.2),Site.isFirstLoad||this.introTl.fromTo(ce,{filter:"blur(2rem)",autoAlpha:0},{filter:"blur(0rem)",autoAlpha:1,duration:1,ease:"power3.out"},0),this.introTl.moveBlur([oe,ae],{stagger:.08},.1),Site.isMobile||this.introTl.moveBlur(le,{duration:1},.2),this.resolveReady()}}class Gallery extends Component{constructor(ee){super(ee),this.isServices=ee.isServices,this.active=!0,this.hovered=!1,this.isAnimating=!1,this.isNext=!0,this.index=0,this.progress=0,this.preload=new Map,this.bg={el:this.el.querySelector(".gallery-bg"),els:this.el.querySelectorAll(".gallery-bg-item"),images:this.el.querySelectorAll(".gallery-bg-item-image"),index:0};const ie=JSON.parse(this.bg.el.getAttribute("data-images"));this.images=Site.isMobile?ie.mobile:ie.desktop,this.bg.length=this.bg.els.length;const re=this.el.querySelector(".gallery-cursor");this.cursor={el:this.el.querySelector(".gallery-cursor"),prev:re.querySelector(".gallery-cursor-prev"),next:re.querySelector(".gallery-cursor-next"),overlay:re.querySelector(".gallery-cursor-overlay"),icon:re.querySelector(".gallery-cursor-icon"),pos:{x:0,y:0}},this.nav={el:this.el.querySelector(".gallery-nav"),prev:this.el.querySelector(".gallery-nav-prev"),next:this.el.querySelector(".gallery-nav-next")},this.mouse={last:{x:0,y:0}}}async init(){super.init(),this.c(()=>{requestAnimationFrame(()=>{this.getBounds(),!Site.isMobile&&this.isServices&&gsapWithCSS.set(this.cursor.el,{x:this.cursor.pos.x,y:this.cursor.pos.y})}),Site.isMobile||(this.cursor.quickY=gsapWithCSS.quickTo(this.cursor.el,"y",{duration:.6,ease:"power3.out"}),this.cursor.quickX=gsapWithCSS.quickTo(this.cursor.el,"x",{duration:.6,ease:"power3.out"})),gsapWithCSS.set(this.cursor.next,{backgroundImage:`url('${this.images[this.index+1]}')`}),Site.isMobile||gsapWithCSS.set(this.cursor.prev,{backgroundImage:`url('${this.images[this.images.length-1]}')`}),gsapWithCSS.set(this.bg.els[this.bg.index],{zIndex:1}),this.isServices&&!Site.isMobile&&gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:0,end:"bottom bottom",onUpdate:ee=>{this.progress=ee.progress}}}),Site.isMobile||(gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:0,end:"bottom top",onLeave:()=>{this.active=!1},onEnterBack:()=>{this.active=!0}}}),this.addListener({el:this.el,event:"mousemove",handler:()=>{this.hovered||(this.hovered=!0,this.el.classList.add("active"))}}),this.addListener({el:this.el,event:"mouseleave",handler:()=>{this.hovered=!1,this.el.classList.remove("active")}}),this.addListener({el:this.nav.prev,event:"mouseenter",handler:()=>{this.isNext&&(this.isNext=!1,this.cursorTl?.kill(),this.cursorTl=gsapWithCSS.timeline(),this.cursorTl.set(this.cursor.prev,{zIndex:this.bg.length},0),this.cursorTl.set(this.cursor.next,{zIndex:0},0),this.cursorTl.fromTo(this.cursor.icon,{rotateY:0},{rotateY:180,duration:1,ease:"power3.out",overwrite:"auto"},.02),this.cursorTl.fromTo(this.cursor.prev,{xPercent:-100},{xPercent:0,duration:.8,ease:"power3.out",overwrite:"auto"},.02),this.cursorTl.fromTo(this.cursor.next,{xPercent:0},{xPercent:100,duration:.8,ease:"power3.out",overwrite:"auto"},.02))}}),this.addListener({el:this.nav.next,event:"mouseenter",handler:()=>{this.isNext||(this.isNext=!0,this.cursorTl?.kill(),this.cursorTl=gsapWithCSS.timeline(),this.cursorTl.set(this.cursor.prev,{zIndex:0},0),this.cursorTl.set(this.cursor.next,{zIndex:this.bg.length},0),this.cursorTl.fromTo(this.cursor.icon,{rotateY:180},{rotateY:0,duration:1,ease:"power3.out",overwrite:"auto"},.02),this.cursorTl.fromTo(this.cursor.prev,{xPercent:0},{xPercent:-100,duration:.8,ease:"power3.out",overwrite:"auto"},.02),this.cursorTl.fromTo(this.cursor.next,{xPercent:100},{xPercent:0,duration:.8,ease:"power3.out",overwrite:"auto"},.02))}}),this.addListener({el:this.nav.prev,event:"click",handler:ee=>{this.navigate(!1)}}),this.addListener({event:"window:leave",handler:()=>{this.hovered=!1,this.el.classList.remove("active")},emitter:!0})),this.addListener({el:this.nav.next,event:"click",handler:ee=>{this.navigate()}}),this.warmCache()}),this.resolveReady()}getBounds(){this.ratio=Site.width/Site.height,this.ratio*=Site.isMobile?0:14.4,gsapWithCSS.set(this.cursor.el,{scale:1/Site.height*remToPx(16.8),clipPath:`inset(0% ${this.ratio}%)`,zIndex:this.bg.length+1,x:remToPx(-2),y:remToPx(-2)}),gsapWithCSS.set(this.cursor.icon,{scale:6}),this.bounds=this.el.getBoundingClientRect(),this.bounds.scroll=Site.lenis?.scroll,this.cursor.bounds=this.cursor.el.getBoundingClientRect(),this.isServices?(this.cursor.pos.x=Site.width*.5-this.cursor.bounds.width*.5,this.cursor.pos.y=remToPx(-18)):(this.cursor.pos.x=Site.width*.5-this.cursor.bounds.width*.5,this.cursor.pos.y=Site.height*.5-this.cursor.bounds.height*.5)}wrap(ee,ie){return(ee%ie+ie)%ie}getNextIndex(ee,ie){return this.wrap(ee+1,ie)}getPrevIndex(ee,ie){return this.wrap(ee-1,ie)}preloadImage(ee){if(!ee)return Promise.resolve(null);if(this.preload.has(ee))return this.preload.get(ee);const ie=new Promise(re=>{const se=new Image;se.decoding="async",se.src=ee,se.onload=()=>{const ne=()=>re(se);se.decode?se.decode().then(ne).catch(ne):ne()},se.onerror=()=>re(null)});return this.preload.set(ee,ie),ie}warmCache(){const ee=this.images.length,ie=this.index;[this.images[ie],this.images[this.getNextIndex(ie,ee)],this.images[this.getPrevIndex(ie,ee)],this.images[this.getNextIndex(ie+1,ee)]].forEach(se=>this.preloadImage(se))}async navigate(ee=!0){if(this.isAnimating)return;this.isAnimating=!0;const ie=this.images.length,re=this.bg.length;this.index=ee?this.getNextIndex(this.index,ie):this.getPrevIndex(this.index,ie);const se=this.getNextIndex(this.index,ie),ne=this.getPrevIndex(this.index,ie),oe=this.images[this.index];await this.preloadImage(oe),this.bg.index=(this.bg.index+1)%this.bg.length,this.bg.images[this.bg.index].style.backgroundImage=`url('${oe}')`,this.cursor.bounds=this.cursor.el.getBoundingClientRect(),this.c(()=>{const ae=gsapWithCSS.getProperty(this.cursor.el,"x"),le=gsapWithCSS.getProperty(this.cursor.el,"y"),he=gsapWithCSS.getProperty(this.cursor.el,"scale"),ce=gsapWithCSS.timeline({paused:!0,onComplete:()=>ce.kill()});this.bg.els.forEach((me,ue)=>{ce.set(me,{zIndex:re-1-(this.bg.index-ue+re)%re})}),ce.set([this.cursor.next,this.cursor.prev,this.cursor.overlay],{yPercent:-50,clipPath:"inset(0% 0% 100% 0%)",overwrite:"auto"}),ce.set(this.cursor.icon,{autoAlpha:0,overwrite:"auto"}),ce.set(this.cursor.next,{backgroundImage:`url('${this.images[se]}')`}),ce.set(this.cursor.prev,{backgroundImage:`url('${this.images[ne]}')`}),ce.fromTo(this.bg.images[this.bg.index],{autoAlpha:.5},{autoAlpha:1,duration:Site.isMobile?.6:1,ease:"power3.out",overwrite:"auto"},"animate"),ce.fromTo(this.bg.els[this.bg.index],{x:ae,y:le,scale:he,clipPath:`inset(0% ${this.ratio}%)`},{scale:1,clipPath:"inset(0% 0%)",x:0,y:0,duration:Site.isMobile?.6:1,ease:"power3.out",overwrite:"auto",force3D:!0},"animate"),ce.set([this.cursor.next,this.cursor.prev,this.cursor.overlay],{autoAlpha:1,overwrite:"auto"},.2),ce.to(this.cursor.icon,{autoAlpha:1,duration:.6,ease:"power3.out",overwrite:"auto"},.4),ce.to([this.cursor.prev,this.cursor.next,this.cursor.overlay],{yPercent:0,clipPath:"inset(0% 0% 0% 0%)",duration:1,ease:"power3.out",overwrite:"auto"},.2),ce.add(()=>{this.isAnimating=!1,this.warmCache()},.6),requestAnimationFrame(()=>{ce.play()})})}resize(){super.resize(),this.getBounds()}loop(ee){if(super.loop(),!this.active||!this.bounds||Site.isMobile||Site.isTransitioning)return;if(!this.hovered){this.cursor.quickX(this.cursor.pos.x),this.cursor.quickY(this.cursor.pos.y+this.progress*(this.bounds.top+this.bounds.scroll-this.cursor.bounds.height*.5));return}const{x:ie,y:re}=Site.mouse;this.mouse.last.x=ie,this.mouse.last.y=re;const se=this.bounds.top+this.bounds.scroll-Site.lenis.scroll;this.cursor.quickX(ie-this.cursor.bounds.width*.5),this.cursor.quickY(re-se-this.cursor.bounds.height*.5)}}class ServicesInfo extends Component{constructor(ee){super(ee),this.inner=this.el.querySelector(".info-inner"),this.titleEl=this.el.querySelector(".info-title"),this.content=this.el.querySelector(".info-content")}init(){super.init(),this.initContext()}initContext(){this.context?.revert(),this.context=gsapWithCSS.context(()=>{if(Site.isMobile){requestAnimationFrame(()=>{this.initComponent(Title,{el:this.titleEl,scroll:!0})});return}this.titleLines=splitTitle(this.titleEl),gsapWithCSS.set(this.el,{paddingBottom:()=>`${Site.height*1.6}`}),gsapWithCSS.set(this.titleLines,{yPercent:105}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.inner,start:"top top",end:()=>`+=${Site.height*4}`,scrub:!0,pin:!0,pinSpacing:!1}}).to(this.inner,{duration:10},0).add(()=>{Site.nav.switchTheme("light")},1.6).fromTo(this.titleEl,{yPercent:()=>`${Site.height*.14}`},{yPercent:0,ease:"power1.out",duration:3},0).moveBlur(this.titleLines,{stagger:.4,duration:3},0).fromTo(this.content,{yPercent:()=>`${Site.height}`},{yPercent:()=>`${Site.height*-.1}`,duration:4},1)})}resize(){super.resize(),this.initContext()}destroy(){super.destroy()}}class ServicesAccordion extends Component{constructor(ee){super(ee),this.texts=[],this.els=this.el.querySelectorAll(".service-inner"),this.images=this.el.querySelectorAll(".media-wrapper"),this.imageInners=this.el.querySelectorAll(".media-inner"),this.media=this.el.querySelectorAll(".media"),this.textEls=this.el.querySelectorAll(".service-text")}init(){super.init(),this.initContext()}initContext(){Site.isMobile||(this.context?.revert(),this.context=gsapWithCSS.context(()=>{const ee="14rem",ie=`calc(100vh - 8rem - ${(this.els.length-1)*14}rem)`,re="10rem",se=`calc(100vh - 12rem - ${(this.els.length-1)*14}rem)`;gsapWithCSS.set(this.els[0],{height:ie}),gsapWithCSS.set(this.images[0],{height:se}),gsapWithCSS.set(this.imageInners,{height:se});const ne=gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top top",end:()=>`+=${Site.height*1.2}`,pin:!0,scrub:!0},defaults:{duration:1,ease:"none"}});this.els.forEach((oe,ae)=>{const le=this.images[ae],he=this.media[ae],ce=this.textEls[ae];ae===0?(ne.to(oe,{height:ee},0),ne.to(le,{height:re},0),ne.to(he,{scale:1.2},0),ne.to(ce,{autoAlpha:0,duration:.8},0)):(gsapWithCSS.set(he,{scale:1.2}),ae!==this.els.length-1&&(ne.to(oe,{height:ee},ae),ne.to(le,{height:re},ae),ne.fromTo(he,{scale:1},{scale:1.2},ae),ne.to(ce,{autoAlpha:0,duration:.8},ae)),ne.to(oe,{height:ie},ae-1),ne.to(le,{height:se},ae-1),ne.fromTo(ce,{autoAlpha:0},{autoAlpha:1},ae-1),ne.fromTo(he,{scale:1.2},{scale:1},ae-1))})}))}destroyContext(){this.context?.revert()}resize(){super.resize(),this.initContext()}destroy(){super.destroy(),this.destroyContext()}}class Offer extends Component{constructor(ee){super(ee),this.active=!1,this.index=0,this.progress=0,this.items=[],this.title=this.el.querySelector(".offer-title"),this.wrapper=this.el.querySelector(".offer-inner"),this.servicesWrapper=this.el.querySelector(".offer-services"),this.els=this.el.querySelectorAll(".service"),this.numbers=this.el.querySelectorAll(".offer-number"),this.activeEl=null,this.activeNumber=null}async init(){super.init(),this.icon=this.initComponent(Icon,{el:this.el.querySelector(".icon")}),await this.icon.ready,this.initContext()}initDesktop(){Site.isMobile||(this.context=gsapWithCSS.context(()=>{this.active=!1,this.index=0,this.progress=0,this.items=[],this.getBounds(),this.els.forEach(ie=>{const re=ie.querySelector(".service-title"),se=ie.querySelector(".service-text");se&&splitLines(se),this.items.push({el:ie,title:re,height:ie.offsetHeight})}),this.numbers.forEach(ie=>{new SplitText(ie,{type:"chars",charsClass:"char"})}),this.onIndexChanged(0),this.setPositions();const ee={frame:this.icon.lottie.currentFrame};gsapWithCSS.timeline({scrollTrigger:{trigger:this.wrapper,start:"center center",end:()=>`+=${Site.height*3}`,scrub:!0,pin:!0,onUpdate:ie=>{this.setIndex(ie.progress)},onEnter:ie=>{this.active=!0,this.setIndex(ie.progress)},onEnterBack:()=>{this.active=!0},onLeave:()=>{this.active=!1},onLeaveBack:()=>{this.active=!1}}}).to(ee,{frame:this.icon.totalFrames-1,ease:"none",onUpdate:()=>{this.icon.lottie.goToAndStop(ee.frame,!0)}},0).to(this.title,{y:Site.height*.8},0)}))}initMobile(){Site.isMobile&&(this.context=gsapWithCSS.context(()=>{const ee=this.el.querySelector(".offer-graphic"),ie={frame:this.icon.lottie.currentFrame};gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top+=30 top",end:`bottom+=${(Site.height-this.els[this.els.length-1].offsetHeight)*.5} bottom`,scrub:!0,pin:ee,pinType:"fixed"}}).to(ie,{frame:this.icon.totalFrames-1,duration:1,ease:"none",onUpdate:()=>{this.icon.lottie.goToAndStop(Math.round(ie.frame),!0)}});const re=gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:`top+=${(Site.height-this.els[0].offsetHeight)*.5} top`,end:`bottom+=${(Site.height-this.els[this.els.length-1].offsetHeight)*.5} bottom`,scrub:!0}});re.to(this.el,{duration:1,ease:"none"}),this.els.forEach((se,ne)=>{const oe=1/(this.els.length-1.5);ne===0?re.to(se,{filter:"blur(.5rem)",autoAlpha:.6,scale:.9,duration:oe},0):(re.fromTo(se,{filter:"blur(.5rem)",autoAlpha:.6,scale:.9,transformOrigin:"left"},{filter:"blur(0rem)",autoAlpha:1,scale:1,duration:oe},(ne-1)*oe),ne!==this.els.length-1&&re.to(se,{filter:"blur(.5rem)",autoAlpha:.6,scale:.9,duration:oe},ne*oe))})}))}initContext(){this.context?.revert(),this.initDesktop(),this.initMobile()}setIndex(ee){this.progress=ee;const ie=Math.round(ee*(this.els.length-1));ie!==this.index&&this.onIndexChanged(ie)}onIndexChanged(ee){this.index=ee,this.activeEl?.classList.remove("active"),this.activeNumber?.classList.remove("active"),this.activeEl=this.els[ee],this.activeNumber=this.numbers[ee],this.activeEl.classList.add("active"),this.activeNumber.classList.add("active")}getBounds(){this.items.forEach(ee=>{ee.height=ee.el.offsetHeight}),this.bounds=this.servicesWrapper.getBoundingClientRect(),this.radiusX=this.bounds.width*.5,this.radiusY=this.bounds.height*.5}setPositions(){const ie=Math.PI*.5,re=ie/(this.items.length-1),se=this.progress*ie;this.items.forEach((ne,oe)=>{const ae=se-oe*re,le=Math.cos(ae),he=Math.sin(ae),ce=Math.abs(he),me=this.radiusX+le*this.radiusX-oe*60*Math.pow(ce,2),ue=this.radiusY-he*this.radiusY-ne.height*.5,pe=1-Math.pow(ce,1.5)*3,de=1-Math.pow(ce,1.5)*.5;gsapWithCSS.set(ne.el,{x:me,y:ue,autoAlpha:pe,scale:de});const fe=ce<.05?0:Math.pow(ce,2)*3;gsapWithCSS.set(ne.title,{filter:`blur(${fe.toFixed(2)}rem)`})})}resize(){super.resize(),this.initContext()}loop(){super.loop(),this.active&&this.setPositions()}destroy(){super.destroy()}}class Services extends Page{constructor(ee){super(ee),this.theme="light"}async init(){super.init(),this.initHero();const ee=this.initComponent(Gallery,{el:this.el.querySelector(".gallery"),isServices:!0});this.initComponent(ServicesInfo,{el:this.el.querySelector(".info")});const ie=ee.el.querySelector(".gallery-cursor-wrapper"),re=ee.el.querySelector(".gallery-bg");Site.introTl.clip(ie,{ease:"expo.out",duration:1.4},.2),Site.introTl.fromTo(re,{yPercent:10},{yPercent:0,ease:"expo.out",duration:1},.2),await ee.ready,this.resolveReady()}loaded(){super.loaded(),this.initComponent(ServicesAccordion,{el:this.el.querySelector(".services")}),this.initComponent(Offer,{el:this.el.querySelector(".offer")}),this.initComponent(Work$1,{el:this.el.querySelector(".work")}),this.initClients(),this.initComponent(PreFooter,{el:this.el.querySelector(".pre-footer")}),this.initComponent(Footer,{el:this.el.querySelector(".footer")})}initHero(){const ee=this.el.querySelector(".hero"),ie=ee.querySelector(".hero-title-left"),re=ee.querySelector(".hero-title-right");this.c(()=>{gsapWithCSS.timeline({scrollTrigger:{trigger:ee,pin:!0,start:"top top",end:()=>`+=${ee.offsetHeight}`,pinSpacing:!1,scrub:!0,pinType:Site.isMobile?"fixed":"transform"}}).to(ee,{duration:1}).add(()=>{Site.isTransitioning||Site.nav.switchTheme("light")},.9).add(()=>{Site.isTransitioning||Site.nav.switchTheme("dark")},.91)}),Site.introTl.moveBlur([ie,re],{yPercent:30},0)}initClients(){if(Site.isMobile)return;const ee=this.el.querySelector(".clients"),ie=ee.querySelectorAll(".client"),re=ee.querySelectorAll(".client-border");requestAnimationFrame(()=>{requestAnimationFrame(()=>{re.forEach(se=>{this.initComponent(Border,{el:se,inner:!0})})})}),ie.forEach((se,ne)=>{this.addListener({el:se,event:"mouseenter",handler:()=>{ie.forEach((oe,ae)=>{ne===ae?oe.classList.add("active"):oe.classList.add("inactive")})}}),this.addListener({el:se,event:"mouseleave",handler:()=>{ie.forEach((oe,ae)=>{oe.classList.remove("inactive"),oe.classList.add("active")})}})})}destroy(){super.destroy()}}class AboutHero extends Component{constructor(ee){super(ee),this.active=!0,this.title=this.el.querySelector(".hero-title"),this.grid=this.el.querySelector(".hero-grid"),this.imagesWrapper=this.el.querySelector(".hero-images"),this.imagesInner=this.el.querySelector(".hero-images-inner"),this.imageCols=this.el.querySelectorAll(".hero-images .hero-images-col"),this.images=this.el.querySelectorAll(".media-inner"),this.titleTop=this.el.querySelector(".hero-title-top"),this.titleTopLeft=this.el.querySelector(".hero-title-top-left"),this.titleTopRight=this.el.querySelector(".hero-title-top-right"),this.titleBottom=this.el.querySelector(".hero-title-bottom"),this.titleBottomInner=this.el.querySelector(".hero-title-bottom"),this.iconEl=this.el.querySelector(".hero-icon"),this.progress=0,Site.isMobile||(this.topX=0,this.bottomX=0,this.frame=0,this.topSet=gsapWithCSS.quickSetter(this.titleTop,"x","px"),this.bottomSet=gsapWithCSS.quickSetter(this.titleBottom,"x","px"))}async init(){super.init(),this.icon=await this.initComponent(Icon,{el:this.iconEl}),await this.icon.ready,this.initContext(),Site.isMobile?(Site.introTl.blur(this.iconEl,{},0),Site.introTl.moveBlur([this.titleTopLeft,this.titleTopRight],{yPercent:60},.1),Site.introTl.moveBlur([this.titleBottomInner],{yPercent:60},.2),Site.introTl.clip(this.imagesWrapper,{},.1)):(Site.introTl.moveBlur(this.iconEl,{},0),Site.introTl.moveBlur([this.titleTopLeft,this.titleTopRight],{yPercent:60},0),Site.introTl.moveBlur([this.titleBottomInner],{yPercent:60},.1),Site.introTl.clip(this.images,{stagger:.05,duration:1},.2)),this.resolveReady()}initContext(){this.context?.revert(),this.initDesktop(),this.initMobile()}initDesktop(){Site.isMobile||(this.context=gsapWithCSS.context(()=>{this.getOffsets(),gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top top",end:()=>`+=${Site.height*1.4}`,scrub:!0,onLeave:()=>{this.active=!1},onEnterBack:()=>{this.active=!0}}}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top top",end:()=>`+=${Site.height}`,scrub:!0,onUpdate:ee=>{this.progress=ee.progress},pin:this.imagesWrapper,pinSpacing:!1}}).to(this.imagesInner,{y:-(Site.height-remToPx(20)),duration:1,ease:"none"})}))}initMobile(){Site.isMobile&&(this.context=gsapWithCSS.context(()=>{const ee=this.el.querySelectorAll(".hero-images-col"),ie={frame:this.icon.lottie.currentFrame},re=gsapWithCSS.timeline({scrollTrigger:{trigger:this.el,start:"top top",end:"bottom top",scrub:!0}}).to(ie,{frame:this.icon.frame*3,duration:1,ease:"none",onUpdate:()=>{this.icon.lottie.goToAndStop(ie.frame,!0)}},0);ee.forEach((se,ne)=>{const oe=se.querySelector(".media-wrapper"),ae=se.querySelector(".media"),le=1/(ee.length-2);ne>0&&(re.fromTo(oe,{clipPath:"inset(0 0 100% 0)"},{clipPath:"inset(0 0 0% 0)",ease:"none",duration:le},(ne-1)*le),re.fromTo(ae,{scale:1.4},{scale:1,ease:"none",duration:le},(ne-1)*le)),re.fromTo(ae,{autoAlpha:1},{autoAlpha:.6,ease:"none",duration:le},ne*le)})}))}getOffsets(){this.titleTopOffset=Site.width-this.titleTop.offsetWidth,this.titleBottomOffset=Site.width-this.titleBottom.offsetWidth,this.imgCols=Array.from(this.imageCols),this.imgLength=this.imgCols.length,this.imgLargeBase=remToPx(42),this.imgGap=remToPx(1);const ee=remToPx(4),ie=Site.width-ee;this.imgWidth=(ie-this.imgLargeBase-this.imgGap*(this.imgLength-1))/(this.imgLength-1),this.imgScale=this.imgLargeBase/this.imgWidth-1,this.x0=new Array(this.imgCols.length),this.baseHeights=new Array(this.imgCols.length);let re=0;for(let se=0;se<this.imgCols.length;se++){const ne=this.imgCols[se];this.baseHeights[se]=ne.offsetHeight,ne.style.width=`${this.imgWidth}px`,ne.style.transformOrigin="left center",ne.style.willChange="transform",this.x0[se]=re,gsapWithCSS.set(ne,{x:re,scaleX:1,scaleY:1}),re+=this.imgWidth+this.imgGap}this.imgAnim=this.imgCols.map(se=>({x:gsapWithCSS.quickTo(se,"x",{duration:.15,ease:"power1.out"}),y:gsapWithCSS.quickTo(se,"y",{duration:.15,ease:"power1.out"}),sx:gsapWithCSS.quickTo(se,"scaleX",{duration:.15,ease:"power1.out"}),sy:gsapWithCSS.quickTo(se,"scaleY",{duration:.15,ease:"power1.out"})})),this.rectLeft=0,this.rectWidth=Site.width,this.tSmoothed=0,this.layoutAt(this.tSmoothed,!0)}weight(ee,ie){const re=Math.abs(ee-ie);return Math.max(0,1-re)}getFocusIndex(){const ee=(Site.mouse.x-this.rectLeft)/this.rectWidth,ie=this.imgLength-1;return Math.max(0,Math.min(ie,ee*ie))}resize(){super.resize(),this.initContext()}layoutAt(ee,ie=!1){const re=this.imgLength,se=new Array(re);let ne=0;for(let ce=0;ce<re;ce++)ne+=se[ce]=this.weight(ce,ee);const oe=ne>0?1/ne:0,ae=this.imgScale,le=this.imgWidth;let he=0;for(let ce=0;ce<re;ce++){const me=this.baseHeights[ce],ue=1+ae*(se[ce]*oe),pe=(ue-1)*me/2,de=(1-ue)*me/2,fe=lerp(de,pe,this.progress||0),be=this.x0[ce]+le*he;ie?gsapWithCSS.set(this.imgCols[ce],{x:be,y:fe,scaleX:ue,scaleY:ue}):(this.imgAnim[ce].x(be),this.imgAnim[ce].y(fe),this.imgAnim[ce].sx(ue),this.imgAnim[ce].sy(ue)),he+=ue-1}}loop(){if(super.loop(),!this.active||Site.isMobile)return;const ee=Site.mouse.x/Site.width*100,ie=lerp(this.topX,this.titleTopOffset/100*ee,.025),re=lerp(this.bottomX,this.titleBottomOffset/100*ee,.025),se=lerp(this.frame,(this.icon.lottie.totalFrames-this.icon.frame*3)/100*ee,.025);if(this.topSet(ie),this.bottomSet(re),this.icon.lottie.goToAndStop(se,!0),this.topX=ie,this.bottomX=re,this.frame=se,!this.imgCols||!this.imgCols.length)return;const ne=this.getFocusIndex();this.tSmoothed+=(ne-this.tSmoothed)*.15,this.layoutAt(this.tSmoothed,!1)}}class Values extends Component{constructor(ee){super(ee)}init(){super.init(),this.c(()=>{const ee=this.el.querySelector(".mv-title"),ie=splitTitle(ee);gsapWithCSS.timeline({scrollTrigger:{trigger:ee,start:"bottom+=20% bottom"}}).moveBlur(ie,{yPercent:40})}),!Site.isMobile&&(this.initBorders(),this.initSplits(),this.initHover())}initHover(){const ee=this.el.querySelectorAll(".value");ee.forEach((ie,re)=>{this.addListener({el:ie,event:"mouseenter",handler:()=>{ee.forEach((se,ne)=>{re===ne?se.classList.add("active"):se.classList.add("inactive")})}}),this.addListener({el:ie,event:"mouseleave",handler:()=>{ee.forEach((se,ne)=>{se.classList.remove("inactive"),se.classList.add("active")})}})})}initBorders(){this.el.querySelectorAll(".value-border").forEach(ie=>{this.initComponent(Border,{el:ie,inner:!0,color:"255, 123, 32"})})}initSplits(){const ee=this.el.querySelectorAll(".value-text"),ie=this.el.querySelectorAll(".value-number");this.c(()=>{ee.forEach(re=>{splitLines(re)}),ie.forEach(re=>{new SplitText(re,{type:"chars",charsClass:"char"})})})}resize(){super.resize()}}class Team extends Component{constructor(ee){super(ee),this.titleWrapper=this.el.querySelector(".team-title-wrapper"),this.title=this.el.querySelector(".team-title"),this.bg=this.el.querySelector(".team-intro-bg"),this.wrapper=this.el.querySelector(".team-inner"),this.introWrapper=this.el.querySelector(".team-intro"),this.membersWrapper=this.el.querySelector(".team-members-wrapper"),this.membersInner=this.el.querySelector(".team-members-inner"),this.membersContainer=this.el.querySelector(".team-members"),this.members=this.el.querySelectorAll(".team-member"),this.introImage=this.el.querySelector(".team-intro-image"),this.membersImage=this.el.querySelector(".team-member-image.first"),this.membersImageFirst=this.el.querySelector(".team-member-image.first .media-wrapper:first-child"),this.membersImageOverlay=this.el.querySelector(".team-member-image.first .media-wrapper:last-child"),this.imageGrid1=this.el.querySelector(".team-image-grid-1 .media-wrapper"),this.imageGrid2=this.el.querySelector(".team-image-grid-2 .media-wrapper"),this.imageGrid3=this.el.querySelector(".team-image-grid-3 .media-wrapper")}init(){super.init(),Site.isMobile||(g.load(this.introImage?.querySelector(".media")),g.load(this.membersImageFirst?.querySelector(".media")),g.load(this.membersImageOverlay?.querySelector(".media"))),this.initSplits(),this.initContext()}initSplits(){Site.isMobile||(this.el.querySelectorAll(".team-member-role").forEach(ee=>{split(ee)}),this.el.querySelectorAll(".team-member-social").forEach(ee=>{splitHover(ee)}))}initContext(){this.context?.revert(),this.initDesktop(),this.initMobile()}initMobile(){Site.isMobile&&(this.context=gsapWithCSS.context(()=>{this.initComponent(Title,{el:this.el.querySelector(".team-title"),scroll:!0});const ee=this.el.querySelector(".team-images-wrapper"),ie=ee.querySelectorAll(".media-wrapper"),re=ee.querySelectorAll(".media-inner"),se=ee.offsetHeight+this.membersContainer.offsetHeight-40,ne=this.members[0].offsetTop-this.membersWrapper.offsetTop+this.members[0].offsetHeight*.5;gsapWithCSS.timeline({scrollTrigger:{trigger:this.membersWrapper,start:"top-=30 top",end:`top+=${se} center`,pin:ee,pinType:"fixed",pinSpacing:!1}});const oe=gsapWithCSS.timeline({scrollTrigger:{trigger:this.membersWrapper,start:`top+=${ne} center`,end:`top+=${se} center`,scrub:!0}});oe.to(this.el,{duration:1,ease:"none"}),this.members.forEach((ae,le)=>{const he=1/(this.members.length-1.5);le===0?oe.to(ae,{autoAlpha:.2,duration:he},0):(oe.fromTo(ae,{autoAlpha:.2,transformOrigin:"left"},{autoAlpha:1,duration:he},(le-1)*he),le!==this.members.length-1&&oe.to(ae,{autoAlpha:.2,duration:he},le*he))}),ie.forEach((ae,le)=>{const he=1/(this.members.length-1.5);le>0&&oe.fromTo(ae,{clipPath:"inset(100% 0 0 0)"},{clipPath:"inset(0% 0 0 0)",duration:he},(le-1)*he),oe.fromTo(re[le],{autoAlpha:1},{autoAlpha:.4,ease:"none",duration:he},le*he)})}))}initDesktop(){Site.isMobile||(this.context=gsapWithCSS.context(()=>{this.index=0,this.borders=[];const ee=remToPx(11),ie=remToPx(22),re=Site.height*5,se=ee*this.members.length+ie+remToPx(39.6),ne=Site.height*.2,oe=3,ae=4/this.members.length,le=oe+(this.members.length-1)*ae;gsapWithCSS.set(this.el,{height:re+se+ne}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.bg,start:"top top",end:()=>`+=${Site.height*3}`,scrub:!0,pin:!0,pinSpacing:!1}});const he=gsapWithCSS.timeline({scrollTrigger:{trigger:this.titleWrapper,start:"center center",end:()=>`+=${Site.height*3.6}`,scrub:!0,pin:!0,pinSpacing:!1}});he.fromTo(this.title,{y:()=>`${Site.height*-.3}`},{y:0,ease:"power1.out",duration:.6},0),Site.isSafari?he.to(this.title,{autoAlpha:0,ease:"power3.out",duration:.6},.35):he.to(this.title,{autoAlpha:0,"--blur":"1rem",ease:"power3.out",duration:.6},.35);const ce=gsapWithCSS.timeline({scrollTrigger:{trigger:this.wrapper,start:"top top",end:()=>`+=${re+se}`,scrub:!0,pin:!0,pinSpacing:!1},defaults:{overwrite:"auto"}}).fromTo([this.introWrapper,this.membersWrapper],{y:()=>Site.height*1},{y:0,ease:"power1.out",duration:1.5},0).to([this.introImage,this.membersImage],{width:"20rem",height:"22rem",ease:"power1.inOut",duration:2},1).fromTo(this.membersWrapper,{clipPath:"inset(105vh 0 0 0)"},{clipPath:"inset(0vh 0 0 0)",ease:"power1.out",duration:2},1).add(()=>{Site.nav.switchTheme("light")},2.49).add(()=>{Site.nav.switchTheme("dark")},2.5).to(this.introImage,{y:`-=${Site.height}`},3.1).fromTo(this.membersImageFirst,{scale:.9},{scale:1,duration:.001},2.2).fromTo(this.membersImageOverlay,{clipPath:"inset(0 0 0% 0)"},{clipPath:"inset(0 0 100% 0)",duration:.8},2.2).to(this.membersWrapper,{y:()=>{const me=(Site.height-remToPx(49.2))*.5,ue=this.membersContainer.offsetHeight-Site.height,pe=remToPx(1);return(me+ue-pe)*-1},duration:4,ease:"none"},3).to(this.membersInner,{y:`-=${Site.height*2}`,duration:3,ease:"none"},7).fromTo(this.imageGrid1,{height:0},{height:"100%",duration:1},le).fromTo(this.imageGrid2,{width:0},{width:"100%",ease:"power1.inOut",duration:1.5},le).fromTo(this.imageGrid3,{y:-remToPx(41.6)},{y:0,duration:1},le).fromTo(this.imageGrid3,{height:0},{height:"100%",ease:"power1.inOut",duration:1.2},le+.6);ce.eventCallback("onUpdate",()=>{const me=(ce.time()-oe)/4,ue=Math.round(me*this.members.length);this.borders.forEach(pe=>{pe.getBounds(!1)}),this.index!==ue&&(this.index=ue,this.members.forEach((pe,de)=>{pe.classList.toggle("active",de===ue)}))}),this.members.forEach((me,ue)=>{this.borders.push(this.initComponent(Border,{el:me.querySelector(".team-member-socials-border-wrapper")}));const pe=me.querySelector(".team-member-image"),de=me.querySelector(".team-member-name"),fe=oe+ue*ae,be=fe-ae,ye=ae*.7,ge={ease:"none",duration:ae};ce.fromTo(de,{autoAlpha:.2},{autoAlpha:1,duration:ye,ease:"none"},be),ce.fromTo(de,{autoAlpha:1},{autoAlpha:.2,duration:ye,ease:"none"},fe),ue===0?ce.to(pe,{height:0,...ge},oe):(ce.to(pe,{height:remToPx(22),...ge},be),ce.to(pe,{height:0,...ge},fe))})}))}resize(){super.resize(),this.initContext()}}