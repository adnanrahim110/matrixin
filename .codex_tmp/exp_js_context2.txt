y=lerp(this.mouse.cache.y||ee.y,ee.y,.1),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1)}}class Experience extends Component{constructor(ee){super(ee),this.btnBlockWrapper=this.el.querySelector(".exp-btn-block-wrapper"),this.btnBlockEl=this.el.querySelector(".btn-block"),this.btnBlockImg=this.el.querySelector(".btn-block .media"),this.content=this.el.querySelector(".exp-content"),this.titleEl=this.el.querySelector(".exp-title"),this.title=new SplitText(this.titleEl,{type:"lines, words",linesClass:"line",wordsClass:"word"}),this.rippleTarget=this.title.words[this.title.words.length-1],this.rippleTarget.classList.add("exp-title-hover"),this.rippleWrap=this.el.querySelector(".exp-images"),this.rippleText=this.el.querySelector(".exp-title-hover"),this.subtitle=this.el.querySelector(".exp-subtitle"),this.textWrapper=this.el.querySelector(".exp-text-wrapper")}init(){super.init(),Site.isMobile?gsapWithCSS.timeline({scrollTrigger:{trigger:this.titleEl,start:"top+=30% bottom"}}).moveBlur(this.title.words):(this.initComponent(ButtonBlock,{el:this.btnBlockEl,fixed:!0,center:!1}),this.ripple=this.initComponent(Ripple,{el:this.rippleWrap,target:this.rippleText})),this.addListener({el:this.btnBlockEl,event:"click",handler:()=>{Site.showreel.show()}}),this.initContext()}initContext(){Site.isMobile||(this.destroyContext(),this.expContext=gsapWithCSS.context(()=>{gsapWithCSS.set(this.el,{paddingBottom:()=>`${Site.height*3.3}`}),gsapWithCSS.timeline({scrollTrigger:{trigger:this.btnBlockWrapper,start:()=>"top bottom",end:()=>`+=${Site.height*3.2}`,scrub:!0}}).fromTo(this.btnBlockEl,{y:()=>Site.height*.05},{y:0,ease:"power1.in",duration:.3},0).fromTo(this.btnBlockEl,{y:0},{y:()=>Site.height*1,duration:.7,ease:"power1.in"},.3).to(this.btnBlockEl,{width:()=>this.btnBlockEl.offsetWidth*.5,height:()=>this.btnBlockEl.offsetHeight*.5,duration:1},0),gsapWithCSS.timeline({scrollTrigger:{trigger:this.content,start:"center center",end:()=>`+=${Site.height*4}`,scrub:!0,pin:!0,pinSpacing:!1}}).to(this.content,{duration:10},0).fromTo(this.titleEl,{yPercent:()=>`${Site.height*.2}`,scale:.9},{scale:1,yPercent:0,ease:"power2.out",duration:4.8},0).fromTo(this.title.lines,{yPercent:110,autoAlpha:0,filter:"blur(2rem)"},{yPercent:0,autoAlpha:1,filter:"blur(0rem)",duration:4,ease:"power3.out",stagger:.4},.3).fromTo(this.rippleTarget,{background:"linear-gradient(45deg, #020202, #020202)"},{background:"linear-gradient(45deg, #F4803A, #FBCB6E)",duration:2.5,ease:"power3.out"},1.5).fromTo(this.subtitle,{y:()=>Site.height*.8},{y:()=>Site.height*-1,duration:10},2).fromTo(this.textWrapper,{y:()=>Site.height*1.2},{y:()=>Site.height*-1,duration:7},2.5).fromTo(this.titleEl,{yPercent:0},{yPercent:()=>`${Site.height*-.3}`,ease:"power1.in",duration:5},4.85)}))}destroyContext(){this.expContext?.revert()}resize(){super.resize(),this.initContext()}destroy(){super.destroy(),this.destroyContext()}}class Title extends Component{constructor(ee){super(ee),this.args=ee.args??{},this.split=new SplitText(this.el,{type:"lines",linesClass:"line"});const ie={};ee.scroll?ie.scrollTrigger={trigger:this.el,start:"top+=20% bottom"}:ie.paused=!0,this.c(()=>{this.tl=gsapWithCSS.timeline(ie).moveBlur(this.split.lines,this.args)})}}class HomeServices extends Component{constructor(ee){super(ee),this.wrapper=this.el.querySelector(".services-inner"),this.items=this.el.querySelectorAll(".service"),this.offset={base:remToPx(10.7),active:remToPx(24.7)}}init(){super.init(),this.initComponent(Title,{el:this.el.querySelector(".services-title"),scroll:!0}),!Site.isMobile&&(this.setInitialPositions(),this.addListener({el:this.wrapper,event:"mouseleave",handler:()=>{this.setActiveItem(0)}}),this.items.forEach((ee,ie)=>{ie===0&&ee.classList.add("active");const re=ee.querySelector(".service-text");re&&splitLines(re),this.addListener({el:ee,event:"mouseenter",handler:()=>{if(ie===this.items.length-1){this.setActiveItem(0);return}this.setActiveItem(ie)}})}))}setActiveItem(ee){this.c(()=>{this.items.forEach((ie,re
